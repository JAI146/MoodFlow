{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/OneDrive/Documents/College%20stuffs/hackathon/MoodFlow/components/InteractiveParticleField.tsx"],"sourcesContent":["'use client'\r\nimport { useRef, useMemo } from 'react'\r\nimport { Canvas, useFrame } from '@react-three/fiber'\r\nimport * as THREE from 'three'\r\n\r\ninterface MousePosition {\r\n    x: number\r\n    y: number\r\n}\r\n\r\nfunction ParticleField({ mousePos }: { mousePos: React.MutableRefObject<MousePosition> }) {\r\n    const particlesRef = useRef<THREE.Points>(null)\r\n    const linesRef = useRef<THREE.LineSegments>(null)\r\n\r\n    // Create particles\r\n    const particleCount = 100\r\n    const particles = useMemo(() => {\r\n        const positions = new Float32Array(particleCount * 3)\r\n        const velocities = new Float32Array(particleCount * 3)\r\n\r\n        for (let i = 0; i < particleCount * 3; i += 3) {\r\n            positions[i] = (Math.random() - 0.5) * 20\r\n            positions[i + 1] = (Math.random() - 0.5) * 20\r\n            positions[i + 2] = (Math.random() - 0.5) * 10\r\n\r\n            velocities[i] = (Math.random() - 0.5) * 0.02\r\n            velocities[i + 1] = (Math.random() - 0.5) * 0.02\r\n            velocities[i + 2] = (Math.random() - 0.5) * 0.01\r\n        }\r\n\r\n        return { positions, velocities }\r\n    }, [])\r\n\r\n    // Animation loop\r\n    useFrame(() => {\r\n        if (!particlesRef.current) return\r\n\r\n        const positions = particlesRef.current.geometry.attributes.position.array as Float32Array\r\n        const velocities = particles.velocities\r\n\r\n        // Update particle positions\r\n        for (let i = 0; i < particleCount * 3; i += 3) {\r\n            positions[i] += velocities[i]\r\n            positions[i + 1] += velocities[i + 1]\r\n            positions[i + 2] += velocities[i + 2]\r\n\r\n            // Mouse interaction\r\n            const dx = mousePos.current.x * 10 - positions[i]\r\n            const dy = mousePos.current.y * 10 - positions[i + 1]\r\n            const distance = Math.sqrt(dx * dx + dy * dy)\r\n\r\n            if (distance < 3) {\r\n                const force = (3 - distance) / 3\r\n                positions[i] -= dx * force * 0.01\r\n                positions[i + 1] -= dy * force * 0.01\r\n            }\r\n\r\n            // Boundary check\r\n            if (Math.abs(positions[i]) > 10) velocities[i] *= -1\r\n            if (Math.abs(positions[i + 1]) > 10) velocities[i + 1] *= -1\r\n            if (Math.abs(positions[i + 2]) > 5) velocities[i + 2] *= -1\r\n        }\r\n\r\n        particlesRef.current.geometry.attributes.position.needsUpdate = true\r\n\r\n        // Update connection lines\r\n        if (linesRef.current) {\r\n            const linePositions: number[] = []\r\n            const maxDistance = 2.5\r\n\r\n            for (let i = 0; i < particleCount; i++) {\r\n                for (let j = i + 1; j < particleCount; j++) {\r\n                    const dx = positions[i * 3] - positions[j * 3]\r\n                    const dy = positions[i * 3 + 1] - positions[j * 3 + 1]\r\n                    const dz = positions[i * 3 + 2] - positions[j * 3 + 2]\r\n                    const distance = Math.sqrt(dx * dx + dy * dy + dz * dz)\r\n\r\n                    if (distance < maxDistance) {\r\n                        linePositions.push(positions[i * 3], positions[i * 3 + 1], positions[i * 3 + 2])\r\n                        linePositions.push(positions[j * 3], positions[j * 3 + 1], positions[j * 3 + 2])\r\n                    }\r\n                }\r\n            }\r\n\r\n            linesRef.current.geometry.setAttribute(\r\n                'position',\r\n                new THREE.BufferAttribute(new Float32Array(linePositions), 3)\r\n            )\r\n        }\r\n\r\n        // Gentle rotation\r\n        if (particlesRef.current.parent) {\r\n            particlesRef.current.parent.rotation.y += 0.0005\r\n        }\r\n    })\r\n\r\n    return (\r\n        <group>\r\n            <points ref={particlesRef}>\r\n                <bufferGeometry>\r\n                    <bufferAttribute\r\n                        attach=\"attributes-position\"\r\n                        args={[particles.positions, 3]}\r\n                    />\r\n                </bufferGeometry>\r\n                <pointsMaterial\r\n                    size={0.1}\r\n                    color=\"#6366F1\"\r\n                    transparent\r\n                    opacity={0.8}\r\n                    sizeAttenuation\r\n                />\r\n            </points>\r\n\r\n            <lineSegments ref={linesRef}>\r\n                <bufferGeometry />\r\n                <lineBasicMaterial color=\"#8B5CF6\" transparent opacity={0.2} />\r\n            </lineSegments>\r\n        </group>\r\n    )\r\n}\r\n\r\nexport default function InteractiveParticleField() {\r\n    const mouseRef = useRef<MousePosition>({ x: 0, y: 0 })\r\n\r\n    const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        const rect = e.currentTarget.getBoundingClientRect()\r\n        const x = ((e.clientX - rect.left) / rect.width) * 2 - 1\r\n        const y = -((e.clientY - rect.top) / rect.height) * 2 + 1\r\n\r\n        mouseRef.current = { x, y }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 -z-10 opacity-40\"\r\n            onMouseMove={handleMouseMove}\r\n        >\r\n            <Canvas camera={{ position: [0, 0, 8], fov: 75 }}>\r\n                <ParticleField mousePos={mouseRef} />\r\n            </Canvas>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}